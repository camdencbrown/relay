# Relay E2E Test - Fresh Agent Challenge

## Mission

Test **Relay** (http://localhost:8001), an agent-native data platform, by completing a real business intelligence workflow **independently**.

You have ZERO prior knowledge of Relay. Your job: figure it out, use it, and deliver insights.

---

## Business Question

**"What were the top 5 customers by total spend in California during 2024, and what was each customer's average order value?"**

Simple question, but requires:
- Loading data from external source
- Multi-table SQL joins
- Filtering and aggregation
- Professional presentation

---

## Available Resources

**Relay API:** http://localhost:8001/api/v1  
**Test Data:** http://localhost:8002 (HTTP server with CSVs)  
**Your Tools:** Python, requests, pandas, matplotlib

**Data available:**
- `customers.csv` - Customer records
- `orders.csv` - Order transactions
- `order_items.csv` - Line items per order

---

## Your Task

**Phase 1: Discover** (2-3 min)
- Figure out what Relay can do
- Understand the API structure
- No help - read the docs yourself

**Phase 2: Load Data** (2-3 min)
- Create pipelines for the 3 CSV files
- Move data to S3
- Verify uploads succeeded

**Phase 3: Query** (3-4 min)
- Write SQL to answer the business question
- Execute query via Relay
- Get results back as JSON

**Phase 4: Present** (2 min)
- Format the answer clearly
- Include the numbers
- Save as a simple text file

**Target time:** Under 10 minutes total

---

## Success Criteria

âœ… Found and used the API without help  
âœ… All 3 datasets loaded successfully  
âœ… Query executed and returned correct results  
âœ… Answer clearly presented with numbers  
âœ… Workflow completed in under 10 minutes  

---

## Rules

1. **No human help** - You're on your own
2. **Start from zero** - Don't assume anything about Relay
3. **Be practical** - Don't over-engineer it
4. **Track time** - Note how long each phase takes
5. **Rate honestly** - Give feedback (1-10) on usability

---

## Deliverables

At the end, provide:

1. **ANSWER.txt** - Clear answer to the business question
2. **Time breakdown** - How long each phase took
3. **Usability rating** - Score 1-10 with brief reasoning
4. **Issues found** - What problems did you hit?
5. **Recommendations** - 1-3 improvements you'd suggest

---

## Hints (Only if stuck)

- Start with `/api/v1/capabilities` - it's self-documenting
- Pipeline creation is async - wait for completion
- Table names = pipeline names (lowercase, underscores for spaces)
- Use `/query` endpoint to get results as JSON

---

## Expected Answer (Hidden - Don't Peek!)

Top 5 CA customers should be around $20K-$31K total spend with avg orders $3K-$12K.

If your answer is wildly different, double-check your SQL filters.

---

## Ready?

**Start time:** ________  
**Target finish:** ________ (start + 10 minutes)

Go! ðŸš€
